function Increase(a, b) {
	return parseInt(a) == parseInt(b) - 1 ? 0 : parseInt(a) + 1
}
function Decrease(a, b) {
	return 0 == parseInt(a) ? parseInt(b) - 1 : parseInt(a) - 1
}
function GoUp(a, b, c, d) {
	if (0 == d) return 0;
	c >= a && (c -= a);
	return c
}
function GoDown(a, b, c, d) {
	if (0 == d) return 0;
	c += a;
	c >= d && (c = d - 1);
	return c
}
function GoLeft(a, b, c, d) {
	if (0 == d) return 0;
	0 == c % a && (c += a, c > d - 1 && (c = d));
	c--;
	return c
}
function GoRight(a, b, c, d) {
	if (0 == d) return 0;
	c % a == a - 1 ? c = c - a + 1 : c == d - 1 ? c -= c % a : c++;
	return c
}
$.fn.pxSetProgress = function (a, b) {
	b = b * a / 100 + "px";
	$(this).find(" .progr_val").html(a + "%");
	$(this).find(" .progr_show").css({
		width: b
	})
};
$.fn.Normal = function (a) {
	var b = "";
	isNaN(a) || (b = $(this).find(".item:eq(" + a + ")").attr("ptype"));
	switch (b) {
		case "menu":
			$(this).find(".list_text:eq(" + a + ")").css({
				color: "white"
			});
			$(this).find(".in_pic:eq(" + a + ")").css({
				"border-color": "rgba(0,0,0,0)"
			});
			break;
		case "list":
			$(this).find(".item:eq(" + a + ")").css({
				color: "#002740",
				"background-color": "rgba(0,0,0,0)"
			});
			break;
		case "chlist":
			$(this).find(".item:eq(" + a + ")").css({
				"background-color": "rgba(0,0,0,0)"
			});
			break;
		case "select":
		case "input":
			$(this).find(".item:eq(" + a + ") .item_area").css({
				color: "black",
				"border-color": "black"
			});
			break;
		case "button":
			$(this).find(".item:eq(" + a + ") .button_text").css({
				color: "#002740",
				"background-color": "gray"
			})
	}
};
$.fn.Select = function (a) {
	var b = "";
	isNaN(a) || (b = $(this).find(".item:eq(" + a + ")").attr("ptype"));
	switch (b) {
		case "menu":
			$(this).find(".list_text:eq(" + a + ")").css({
				color: "rgb(228,106,0)"
			});
			$(this).find(".in_pic:eq(" + a + ")").css({
				"border-color": "rgb(228,106,0)"
			});
			break;
		case "list":
			$(this).find(".item:eq(" + a + ")").css({
				color: "white",
				"background-color": "#e46900"
			});
			break;
		case "chlist":
			$(this).find(".item:eq(" + a + ")").css({
				"background-color": "#e46900"
			});
			break;
		case "select":
		case "input":
			$(this).find(".item:eq(" + a + ") .item_area").css({
				color: "#e46900",
				"border-color": "#e46900"
			});
			break;
		case "button":
			$(this).find(".item:eq(" + a + ") .button_text").css({
				color: "white",
				"background-color": "#e46900"
			})
	}
};
$.fn.FocusIn = function () {
	var a = "";
	isNaN(id) || (a = $(this).find(".item:eq(" + id + ")").attr("ptype"));
	switch (a) {
		case "button":
			$(this).css({
				color: "white",
				"background-color": "yellow"
			})
	}
};
$.fn.Active = function (a) {
	var b = "";
	isNaN(a) || (b = $(this).find(".item:eq(" + a + ")").attr("ptype"));
	switch (b) {
		case "list":
		case "chlist":
			$(this).find(".item:eq(" + a + ")").css({
				color: "white",
				"background-color": "#0177bf"
			})

	}
};

$.fn.SetValue = function (value) {
	switch ($(this).attr("ptype")) {
		case "select":
			{
				$(this).find(".opt").hide();
				$(this).find(".opt:eq(" + parseInt(value) + ")").show();
			}
			break;
		case "input":
			{
				$(this).find(".item_ivalue").html(value);
			}
			break;
	}
}

function _aa() {
	this._aad_ = {};
	this._aad__ = [];
}
_aa.prototype._aaf_ = function (a, b) {
	var c = this._aad__.length;
	this._aad_[a] = b;
	for (b = 0; b < c; b++) if (this._aad__[b] == a) return;
	this._aad__.push(a)
};
_aa.prototype._aaf__ = function () {
	return this._aad__
};
_aa.prototype._aaf___ = function (a) {
	return this._aad_[a]
};

function _mt() {
	this._mtf_()
}
_mt.prototype._mtf_ = function () {
	this._mtd = []
};
_mt.prototype._mtf__ = function (a) {
	this._mtd.push(a)
};
_mt.prototype._mtf___ = function () {
	this._mtd.pop()
};
_mt.prototype._mtf____ = function () {
	return this._mtd[this._mtd.length - 1]
};
APP.instance = null;

function APP() { }
APP.get = function () {
	APP.instance || (APP.instance = new APP);
	return APP.instance
};
APP.prototype.AppInit = function () {
	this._mt = new _mt;
	this._pt = new _aa;
	this._ot = null
};
APP.prototype.AppTimer = function () {
	TimeShow.get()
};
APP.prototype.APPOnkey = function (a) {
	var b = new QEvent(QEvent.KEYPRESS);
	b.code = a;
	this._ot && this._ot.dispatchEvent(b)
};
APP.prototype.APPCur = function (a) {
	return this._ot
};
APP.prototype.APPGet = function (a) {
	return this._pt._aaf___(a)
};

APP.prototype.BackToPlayer = function () {
	for (this._ot = this._pt._aaf___(this._mt._mtf____()); "player" != this._ot.name;)
		this._ot.disappear(), this._ot && this._ot.name && "mainmenu" == this._ot.name && this.view_hide(), this._mt._mtf___(), this._ot = this._pt._aaf___(this._mt._mtf____()); this._ot._pa_fe();
};
APP.prototype.APPSelect = function (a, b) {
	if (!this._pt._aaf___(a)) {
		return;
	}

	this._ot && 0 == b && this._ot._pa_fd();
	this._mt._mtf__(a);
	this._ot = this._pt._aaf___(a);
	this._ot._pa_fb();
	this._ot && this._ot.name && "mainmenu" == this._ot.name && this.view_show()
};
APP.prototype._app_fa = function (a, b) {
	this._ot = this._pt._aaf___(this._mt._mtf____());
	this._ot.name == a && (this._ot && this._ot.name && "mainmenu" == this._ot.name && this.view_hide(), this._mt._mtf___(), this._ot = this._pt._aaf___(this._mt._mtf____()), 1 == b && this._ot._pa_fe())
};
APP.prototype._app_fb = function (a, b) {
	this._pt._aaf_(a, b)
};
APP.prototype.view_show = function () { };
APP.prototype.view_hide = function () { };
page.AEVENT = "AEVENT";
page.IEVENT = "IEVENT";

function page(a, b) {
	if ("undefined" == typeof EventDispatcher) throw Error("EventDispatcher class is missing.");
	this.page_event_init();
	this.app = APP.get();
	this.name = a;
	this.focusitem = "";
	this._area = new _aa;
	this._area_status = new _aa;
	this._item = new _aa;
	this._item_status = new _aa;
	"undefined" != typeof a && (this._pa_fa(), this.init());
	1 == b && (this.appear(), this._pa_fa_show());
}
page.prototype.page_event_init = function () {
	EventDispatcher.initialize(this);
	this.addEventListener(QEvent.KEYPRESS, this, this.page_onkey);
	this.addEventListener(page.AEVENT, this, this.area_specialevent);
	this.addEventListener(page.IEVENT, this, this.item_specialevent)
};
page.prototype._pa_fa = function () {
	this.app._app_fb(this.name, this)
};
page.prototype._pa_fa_show = function () {
	$("#p_" + this.name).show();
	$("#pbg_" + this.name).show();
	$("#psw_" + this.name).show();
}

page.prototype._pa_fa_hide = function () {
	$("#p_" + this.name).hide();
	$("#pbg_" + this.name).hide();
	$("#psw_" + this.name).hide();
}
page.prototype._pa_fb = function () {
	this._pa_fa_show();
	this.appear();
};
page.prototype._pa_fc = function (a) {
	this.app._app_fa(this.name, a);
	this.disappear();
	this._pa_fa_hide();
};
page.prototype._pa_fd = function () {
	this.disappear();
	this._pa_fa_hide();
};
page.prototype._pa_fe = function () {
	this._pa_fa_show();
	this.appear();
};
page.prototype._pa_ff = function (a) {
	this._area._aaf_(a.obj_name_get(), a);
	this._area_status._aaf_(a.obj_name_get(), a.obj_st_get());
	a.addEventListener(st.EVENT, this, this.pa_fh)
};
page.prototype.page_area_clean = function (a) {
	this._area = new _aa;
	this._area_status = new _aa
};
page.prototype.pa_fh = function (a) {
	a.type = page.AEVENT;
	this.dispatchEvent(a)
};
page.prototype.pa_fi = function (a) {
	this._item._aaf_(a.obj_name_get(), a);
	this._item_status._aaf_(a.obj_name_get(), a.obj_st_get());
	this._area._aaf___(a.obj_area_get())._ar_fb(a.obj_st_get());
	a.addEventListener(st.EVENT, this, this.pa_fk)
};
page.prototype.page_item_clean = function (a) {
	this._item = new _aa;
	this._item_status = new _aa
};
page.prototype.pa_fk = function (a) {
	if (a.cate == st.OP_EVENT) {
		var b = a.name;
		a.type = Area.MOVE;
		a.kind == st.OP_DO||a.kind==st.OP_CHANEL_CHANGE||a.kind==st.OP_CHANEL_NOCHANGE ? (a.type = page.IEVENT, this.dispatchEvent(a)) : (a.kind == st.OP_ENTER ? this.pa_fl(b) : a.kind == st.OP_EXIT && this.pa_fm(b), this._area._aaf___(this._item_status._aaf___(b).st_area_get()).dispatchEvent(a))
	} else a.type = page.IEVENT, this.dispatchEvent(a)
};
page.prototype.pa_fl = function (a) {
	"" == this.focusitem && (this.focusitem = a)
};
page.prototype.pa_fm = function (a) {
	this.focusitem == a && (this.focusitem = "")
};
page.prototype.pa_fn = function (a) {
	return this._item
};
page.prototype.page_itemstatus_get = function (a) {
	return this._item_status._aaf___(a)
};
page.prototype.page_itemvalue_get = function (a) {
	return this.page_itemstatus_get(a).st_value_get()
};
page.prototype.page_onkey = function (a) {
	if ("" != this.focusitem) this._item._aaf___(this.focusitem).onspecialkey(a);
	else {
		var b = this._area._aaf__(),
			c = this,
			d = [];
		$.each(b, function (a, b) {
			a = c._area._aaf___(b);
			a.obj_st_get().st_control_get() == st.CONTROL_ENABLE && d.push(a)
		});
		$.each(d, function (b, c) {
			c.dispatchEvent(a)
		});
		this.onspecialkey(a)
	}
};
page.prototype.PageExit = function (a) {
	this._pa_fc(a)
};
page.prototype.init = function () { };
page.prototype.appear = function () { };
page.prototype.disappear = function () { };
page.prototype.onspecialkey = function (a) { };
page.prototype.area_specialevent = function (a) { };
page.prototype.item_specialevent = function (a) { };
st.DOM_STATUS = "DOM";
st.DOM_BUILD = "DOM_BUILD";
st.DOM_CREATE = "DOM_CREATE";
st.DISPLAY_STATUS = "DISPLAY";
st.DISPLAY_HIDE = "DISPLAY_HIDE";
st.DISPLAY_SHOW = "DISPLAY_SHOW";
st.DISPLAY_SELECT = "DISPLAY_SELECT";
st.DISPLAY_NOSELECT = "DISPLAY_NOSELECT";
st.DISPLAY_ACTIVE = "DISPLAY_ACTIVE";
st.DISPLAY_FOCUSIN = "DISPLAY_FOCUSIN";
st.CONTROL_STATUS = "CONTROL";
st.CONTROL_DISABLE = "CONTROL_DISABLE";
st.CONTROL_ENABLE = "CONTROL_ENABLE";
st.CONTROL_FOCUSIN = "FOCUS_IN";
st.SELECT_STATUS = "SELECT";
st.SELECT_NO = "SELECT_NO";
st.SELECT_YES = "SELECT_YES";
st.OP_EVENT = "OP_EVENT";
st.OP_ENTER = "OP_ENTER";
st.OP_CHANEL_CHANGE = "OP_CHANEL_CHANGE";
st.OP_CHANEL_NOCHANGE = "OP_CHANEL_NOCHANGE";
st.OP_DO = "OP_DO";
st.OP_EXIT = "OP_EXIT";
st.OP_OUT = "OP_OUT";
st.OP_OUT_UP = "OP_OUT_UP";
st.OP_OUT_DOWN = "OP_OUT_DOWN";
st.OP_OUT_LEFT = "OP_OUT_LEFT";
st.OP_OUT_RIGHT = "OP_OUT_RIGHT";
st.EVENT = "KEVENT";
st.sta = "sta";
st.stb = "stb";
st.stc = "stc";
st.std = "std";
st.ste = "ste";
st.stf = "stf";
st.stg = "stg";
st.sth = "sth";

function st(a, b, c, d, f) {
	this._dat = {};
	this._dat[st.sta] = a;
	this._dat[st.stb] = b;
	this._dat[st.stc] = c;
	this._dat[st.std] = d;
	this._dat[st.ste] = f;
	this._dat[st.stf] = st.DISPLAY_HIDE;
	this._dat[st.stg] = st.CONTROL_DISABLE;
	this._dat[st.sth] = st.SELECT_NO
}
st.prototype.st_area_get = function () {
	return this._dat[st.stb]
};
st.prototype.st_name_get = function () {
	return this._dat[st.stc]
};
st.prototype.st_value_get = function () {
	return this._dat[st.ste]
};
st.prototype.st_value_set = function (a) {
	this._dat[st.ste] = a
};
st.prototype.st_display_hide = function () {
	this._dat[st.stf] = st.DISPLAY_HIDE
};
st.prototype.st_display_show = function () {
	this._dat[st.stf] = st.DISPLAY_SHOW
};
st.prototype.st_control_get = function () {
	return this._dat[st.stg]
};
st.prototype.st_control_active = function () {
	this._dat[st.stg] = st.CONTROL_DISABLE;
	this._dat[st.stf] = st.DISPLAY_ACTIVE
};
st.prototype.st_control_noactive = function () {
	this._dat[st.stg] = st.CONTROL_ENABLE;
	this._dat[st.stf] = st.DISPLAY_SELECT
};
st.prototype.st_control_disable = function () {
	this._dat[st.stg] = st.CONTROL_DISABLE
};
st.prototype.st_control_enable = function () {
	this._dat[st.stg] = st.CONTROL_ENABLE
};
st.prototype.st_control_focusin = function () {
	this._dat[st.stg] = st.CONTROL_FOCUSIN;
	this._dat[st.stf] = st.DISPLAY_FOCUSIN
};
st.prototype.st_control_focusout = function () {
	this._dat[st.stg] = st.CONTROL_ENABLE;
	this._dat[st.stf] = st.DISPLAY_SELECT
};
st.prototype.st_select_get = function () {
	return this._dat[st.sth]
};
st.prototype.st_select_set = function (a) {
	this._dat[st.sth] = a
};
st.prototype.st_select_yes = function () {
	this._dat[st.sth] = st.SELECT_YES;
	this._dat[st.stf] = st.DISPLAY_SELECT
};
st.prototype.st_select_no = function () {
	this._dat[st.sth] = st.SELECT_NO;
	this._dat[st.stf] = st.DISPLAY_NOSELECT
};

function kEvent(a, b, c, d, f) {
	QEvent.call(this, st.EVENT);
	"undefined" != typeof a && (this.name = a);
	"undefined" != typeof b && (this.itype = b);
	"undefined" != typeof c && (this.cate = c);
	"undefined" != typeof d && (this.kind = d);
	"undefined" != typeof f && (this.value = f)
}

function kobj(a, b, c, d, f, e, g) {
	if ("undefined" == typeof EventDispatcher) throw Error("EventDispatcher class is missing.");
	EventDispatcher.initialize(this);
	this.addEventListener(QEvent.KEYPRESS, this, this.onkey);
	this._page = a;
	this._name = c;
	this._area = b;
	this._type = d;
	this._st = "undefined" != typeof a ? new st(a.name, b, c, d, "") : new st("", "", "", "", "")
}
kobj.HORIZONTAL = "hor";
kobj.VERTICAL = "ver";
kobj.prototype.init = function () {
	this._ar_fa();
	this.dispatchEvent(new kEvent(this._name, this._type, st.DOM_STATUS, st.DOM_BUILD, this._st.st_value_get()))
};
kobj.prototype._ar_fa = function () { };
kobj.prototype.obj_area_get = function () {
	return this._area
};
kobj.prototype.obj_name_get = function () {
	return this._name
};
kobj.prototype.obj_st_get = function () {
	return this._st
};
kobj.prototype.obj_build = function () {
	this.dispatchEvent(new kEvent(this._name, this._type, st.DOM_STATUS, st.DOM_CREATE, 0))
};
kobj.prototype.obj_hide = function () {
	this._st.st_display_hide();
	this.dispatchEvent(new kEvent(this._name, this._type, st.DISPLAY_STATUS, st.DISPLAY_HIDE, 0))
};
kobj.prototype.obj_show = function () {
	this._st.st_display_show();
	this.dispatchEvent(new kEvent(this._name, this._type, st.DISPLAY_STATUS, st.DISPLAY_SHOW, this._st.st_value_get()))
};
kobj.prototype.obj_noselect = function () {
	this._st.st_select_no();
	this.dispatchEvent(new kEvent(this._name, this._type, st.DISPLAY_STATUS, st.DISPLAY_NOSELECT, this._st.st_value_get()))
};
kobj.prototype.obj_doselect = function () {
	this._st.st_select_yes();
	this.dispatchEvent(new kEvent(this._name, this._type, st.DISPLAY_STATUS, st.DISPLAY_SELECT, this._st.st_value_get()))
};
kobj.prototype.obj_noactive = function () {
	this._st.st_control_noactive();
	this.dispatchEvent(new kEvent(this._name, this._type, st.DISPLAY_STATUS, st.DISPLAY_SELECT, this._st.st_value_get()))
};
kobj.prototype.obj_active = function () {
	this._st.st_control_active();
	this.dispatchEvent(new kEvent(this._name, this._type, st.DISPLAY_STATUS, st.DISPLAY_ACTIVE, this._st.st_value_get()))
};
kobj.prototype.obj_disable = function () {
	this._st.st_control_disable()
};
kobj.prototype.obj_enable = function () {
	this._st.st_control_enable()
};
kobj.prototype.obj_focusin = function () {
	this._st.st_control_focusin();
	this.dispatchEvent(new kEvent(this._name, this._type, st.DISPLAY_STATUS, st.DISPLAY_FOCUSIN, this._st.st_value_get()))
};
kobj.prototype.obj_focusout = function () {
	this._st.st_control_focusout();
	this.dispatchEvent(new kEvent(this._name, this._type, st.DISPLAY_STATUS, st.DISPLAY_SELECT, this._st.st_value_get()))
};
kobj.prototype.obj_value_set = function (a) {
	this.dispatchEvent(new kEvent(this._name, this._type, st.DISPLAY_STATUS, st.DISPLAY_NOSELECT, this._st.st_value_get()));
	this._st.st_value_set(a);
	this.dispatchEvent(new kEvent(this._name, this._type, st.DISPLAY_STATUS, st.DISPLAY_SELECT, this._st.st_value_get()))
};
kobj.prototype.obj_value_get = function () {
	return this._st.st_value_get()
};
kobj.prototype.obj_value_set_only = function (a) {
	this._st.st_value_set(a)
};
kobj.prototype.obj_out_type = function (a) {
	this.dispatchEvent(new kEvent(this._name, this._type, st.OP_EVENT, a, 0))
};
kobj.prototype.obj_is_enable = function() {
	return this._st.st_control_get() == st.CONTROL_ENABLE
};
kobj.prototype.onkey = function (a) { };
kobj.prototype.onspecialkey = function (a) { };

function kitem(a, b, c, d, f, e, g, h) {
	kobj.call(this, a, b, c, d, f, e, g);
	this.cfg = h;
	"undefined" != typeof c && this.init();
	f == st.DISPLAY_SHOW && this.obj_show();
	e == st.CONTROL_ENABLE && this.obj_enable();
	g == st.SELECT_YES && this.obj_doselect()
}
kitem.prototype.type = "item";
kitem.prototype.area = "";
kitem.prototype = new kobj;
kitem.prototype._ar_fa = function () {
	this.item_cfg_init();
	this._page.pa_fi(this)
};
kitem.prototype.item_cfg_init = function () { };

function Input(a, b, c, d, f, e, g) {
	kitem.call(this, a, b, c, "input", d, f, e, g)
}
Input.prototype = new kitem;
Input.prototype.type = "input";
Input.prototype.item_cfg_init = function () {
	var a = this.cfg;
	"undefined" != typeof a && "undefined" != typeof a.value && ("select" == this.type ? this.obj_value_set(a.value) : "num" == a.format ? (this.old = a.value, this.len = a.len, this.max = a.max, this.min = a.min, this.tmp = a.value.toString(), 0 == this.tmp ? (this.now = 0, this.tmp = "") : (this.now = this.tmp.length, this.obj_value_set(this.tmp))) : this.obj_value_set(this.tmp))
};
Input.prototype.onspecialkey = function (a) {
	switch (a.code) {
		case KEYS.EXIT:
			this.obj_out_type(st.OP_EXIT)
	}
};
Input.prototype.onkey = function (a) {
	a = a.code;
	switch (a) {
		case KEYS.EXIT:
			this.obj_out_type(st.OP_OUT);
			break;
		case KEYS.ENTER:
		//this.obj_out_type(st.OP_ENTER);
			break;
		case KEYS.UP:
			this.obj_out_type(st.OP_OUT_UP);
			break;
		case KEYS.DOWN:
			this.obj_out_type(st.OP_OUT_DOWN);
			break;
		case KEYS.LEFT:
			1 <= this.now && (this.now-- , this.tmp = this.tmp.substring(0, this.tmp.length - 1), this.obj_value_set(this.tmp));
			break;
		case KEYS.ZERO:
		case KEYS.ONE:
		case KEYS.TWO:
		case KEYS.THREE:
		case KEYS.FOUR:
		case KEYS.FIVE:
		case KEYS.SIX:
		case KEYS.SEVEN:
		case KEYS.EIGHT:
		case KEYS.NINE:
			this.now >= this.len && (this.tmp = "", this.now = 0), this.tmp = this.tmp + "" + (a - KEYS.ZERO), this.now++ , this.obj_value_set(this.tmp)
	}
};


function ChannelNum(a, b, c, d, f, e, g) {
	kitem.call(this, a, b, c, "channelnum", d, f, e, g)
}
ChannelNum.prototype = new kitem;
ChannelNum.prototype.type = "channelnum";
ChannelNum.prototype.item_cfg_init = function () {
	var a = this.cfg;
	"undefined" != typeof a && "undefined" != typeof a.value && ("select" == this.type ? this.obj_value_set(a.value) : "num" == a.format ? (this.old = a.value, this.len = a.len, this.max = a.max, this.min = a.min, this.tmp = a.value.toString(), 0 == this.tmp ? (this.now = 0, this.tmp = "") : (this.now = this.tmp.length, this.obj_value_set(this.tmp))) : this.obj_value_set(this.tmp))
};


ChannelNum.prototype.obj_clean = function () {
	this.tmp = "";
	this.now = 0;
};

ChannelNum.prototype.onspecialkey = function (a) {
	switch (a.code) {
		case KEYS.ENTER: {
			this.obj_out_type(st.OP_EXIT);			
			this.obj_out_type("OP_CHANEL_CHANGE");
		}
			break;
		case KEYS.EXIT:
			this.obj_out_type(st.OP_EXIT);			
			this.obj_out_type("OP_CHANEL_NOCHANGE");
			break;
		case KEYS.ZERO:
		case KEYS.ONE:
		case KEYS.TWO:
		case KEYS.THREE:
		case KEYS.FOUR:
		case KEYS.FIVE:
		case KEYS.SIX:
		case KEYS.SEVEN:
		case KEYS.EIGHT:
		case KEYS.NINE: {
			this.now >= this.len && (this.tmp = "", this.now = 0), this.tmp = this.tmp + "" + (a.code - KEYS.ZERO), this.now++ , this.obj_value_set(this.tmp)
		}
	}
};
ChannelNum.prototype.onkey = function (a) {
	a = a.code;
	switch (a) {
		case KEYS.EXIT:
			this.obj_out_type(st.OP_OUT);
			break;
		case KEYS.ENTER:
			this.obj_out_type(st.OP_DO);
			break;
		case KEYS.ZERO:
		case KEYS.ONE:
		case KEYS.TWO:
		case KEYS.THREE:
		case KEYS.FOUR:
		case KEYS.FIVE:
		case KEYS.SIX:
		case KEYS.SEVEN:
		case KEYS.EIGHT:
		case KEYS.NINE: {
			this.obj_out_type(st.OP_ENTER)
			this.now >= this.len && (this.tmp = "", this.now = 0), this.tmp = this.tmp + "" + (a - KEYS.ZERO), this.now++ , this.obj_value_set(this.tmp)
		}
	}
};

function Button(a, b, c, d, f, e, g) {
	kitem.call(this, a, b, c, "button", d, f, e);
	this.cfg = g
}
Button.prototype = new kitem;
Button.prototype.type = "button";
Button.prototype.onkey = function (a) {
	switch (a.code) {
		case KEYS.EXIT:
			this.obj_out_type(st.OP_OUT);
			break;
		case KEYS.ENTER:
			this.obj_out_type(st.OP_DO);
			break;
		case KEYS.UP:
			this.obj_out_type(st.OP_OUT_UP);
			break;
		case KEYS.DOWN:
			this.obj_out_type(st.OP_OUT_DOWN);
			break;
		case KEYS.LEFT:
			this.obj_out_type(st.OP_OUT_LEFT);
			break;
		case KEYS.RIGHT:
			this.obj_out_type(st.OP_OUT_RIGHT)
	}
};


function Menu(a, b, c, d, f, e, g) {
	kitem.call(this, a, b, c, "select", d, f, e, g);
	"undefined" != typeof g && ("undefined" != typeof g.total && (this.total = parseInt(g.total)), "undefined" != typeof g.direction && (this.direction = g.direction))
}
Menu.prototype = new kitem;
Menu.prototype.item_cfg_init = function () {
	var a = this.cfg;
	"undefined" != typeof a && "undefined" != typeof a.value && ("select" == this.type ? this.obj_value_set(parseInt(a.value)) : "num" == a.format ? (this.obj_value_set(parseInt(a.value)), this.old = parseInt(a.value), this.len = a.len, this.max = a.max, this.min = a.min, this.tmp = parseInt(a.value), this.now = this.tmp.toString().length) : this.obj_value_set(parseInt(a.value)))
};
Menu.prototype.select_increase = function () {
	this.obj_value_set(Increase(this._st.st_value_get(), this.total))
};
Menu.prototype.select_decrease = function () {
	this.obj_value_set(Decrease(this._st.st_value_get(), this.total))
};
Menu.prototype.select = function (a) {
	a < this.total && this.obj_value_set(a)
};
Menu.prototype.onspecialkey = function (a) {
	switch (a.code) {
		case KEYS.EXIT:
			this.obj_out_type(st.OP_EXIT)
	}
};
Menu.prototype.onkey = function (a) {
	a = a.code;
	switch (a) {
		case KEYS.EXIT:
			this.obj_out_type(st.OP_OUT);
			break;
		case KEYS.UP:
			this.direction == kobj.HORIZONTAL ? this.obj_out_type(st.OP_OUT_UP) : this.select_decrease();
			break;
		case KEYS.DOWN:
			this.direction == kobj.HORIZONTAL ? this.obj_out_type(st.OP_OUT_DOWN) : this.select_increase();
			break;
		case KEYS.LEFT:
			this.direction == kobj.HORIZONTAL ? this.select_decrease() : this.obj_out_type(st.OP_OUT_LEFT);
			break;
		case KEYS.RIGHT:
			this.direction == kobj.HORIZONTAL ? this.select_increase() : this.obj_out_type(st.OP_OUT_RIGHT);
			break;
		case KEYS.ZERO:
		case KEYS.ONE:
		case KEYS.TWO:
		case KEYS.THREE:
		case KEYS.FOUR:
		case KEYS.FIVE:
		case KEYS.SIX:
		case KEYS.SEVEN:
		case KEYS.EIGHT:
		case KEYS.NINE:
			this.select(a - KEYS.ZERO)
	}
};

function Select(a, b, c, d, f, e, g) {
	Menu.call(this, a, b, c, d, f, e, g)
}
Select.prototype = new Menu;
Select.prototype.onkey = function (a) {
	a = a.code;
	switch (a) {
		case KEYS.EXIT:
			this.obj_out_type(st.OP_OUT);
			break;
		case KEYS.ENTER:
			//this.obj_out_type(st.OP_ENTER);
			break;
		case KEYS.UP:
			this.direction == kobj.HORIZONTAL ? this.obj_out_type(st.OP_OUT_UP) : this.select_decrease();
			break;
		case KEYS.DOWN:
			this.direction == kobj.HORIZONTAL ? this.obj_out_type(st.OP_OUT_DOWN) : this.select_increase();
			break;
		case KEYS.LEFT:
			this.direction == kobj.HORIZONTAL ? this.select_decrease() : this.obj_out_type(st.OP_OUT_LEFT);
			break;
		case KEYS.RIGHT:
			this.direction == kobj.HORIZONTAL ? this.select_increase() : this.obj_out_type(st.OP_OUT_RIGHT);
			break;
		case KEYS.ZERO:
		case KEYS.ONE:
		case KEYS.TWO:
		case KEYS.THREE:
		case KEYS.FOUR:
		case KEYS.FIVE:
		case KEYS.SIX:
		case KEYS.SEVEN:
		case KEYS.EIGHT:
		case KEYS.NINE:
			this.select(a - KEYS.ZERO)
	}
};
Area.MOVE = "AREA_MOVE";
Area.DX = "dx";
Area.DY = "dy";
Area.SINGAL = "signal";
Area.ROW = "row";
Area.COL = "col";
Area.GRID = "grid";

function Area(a, b, c, d, f, e) {
	kobj.call(this, a, "", b, "area", c, d, f);
	this.cfg = e;
	"undefined" != typeof e && ("undefined" != typeof e.value && this.obj_value_set(parseInt(e.value)), "undefined" != typeof e[Area.DX] && (this._dx = parseInt(e[Area.DX])), "undefined" != typeof e[Area.DY] && (this._dy = parseInt(e[Area.DY])), this._atype = Area.GRID, 1 == this._dy && (this._atype = 1 == this._dx ? Area.SINGAL : Area.ROW), 1 == this._dx && (this._atype = 1 == this._dy ? Area.SINGAL : Area.COL));
	this._items = [];
	"undefined" != typeof b && this.init();
	c == st.DISPLAY_SHOW && this.obj_show();
	d == st.CONTROL_ENABLE && this.obj_enable();
	this._st.st_select_set(f)
}
Area.prototype = new kobj;
Area.prototype._ar_fa = function () {
	this._page._pa_ff(this);
	this.addEventListener(Area.MOVE, this, this.area_move)
};
Area.prototype._ar_fb = function (a) {
	this._items.push(a)
};
Area.prototype._ar_fc = function () {
	for (var a = 0; a < this._items.length; a++) if (this._items[a].st_control_get() == st.CONTROL_ENABLE) return a;
	return -1
};
Area.prototype._ar_fd = function () {
	for (var a = this.obj_value_get(), b = this._items.length, c = 0; c < b; c++) if (this._items[(a + c) % b].st_control_get() == st.CONTROL_ENABLE) return (a + c) % b;
	return a
};
Area.prototype._ar_fe = function () {
	for (var a = this.obj_value_get(), b = this._items.length, c = 0; c < b; c++) if (this._items[(a - c + b) % b].st_control_get() == st.CONTROL_ENABLE) return (a - c + b) % b;
	return a
};
Area.prototype.area_move = function (a) {
	this._atype == Area.GRID && this._ar_fg(a.kind);
	this._atype == Area.ROW && this._ar_fi(a.kind);
	this._atype == Area.COL && this._ar_fj(a.kind);
	this._atype == Area.SINGAL && this._ar_fh(a.kind)
};
Area.prototype._ar_fg = function (a) {
	a == st.OP_OUT && this.obj_out_type(a);
	a == st.OP_EXIT && this.obj_focusout();
	a == st.OP_ENTER && this.obj_focusin()
};
Area.prototype._ar_fh = function (a) {
	a == st.OP_OUT && this.obj_out_type(a);
	a == st.OP_EXIT && this.obj_focusout();
	a == st.OP_ENTER && this.obj_focusin()
};
Area.prototype._ar_fi = function (a) {
	a == st.OP_OUT && this.obj_out_type(a);
	a == st.OP_EXIT && this.obj_focusout();
	a == st.OP_ENTER && this.obj_focusin();
	a == st.OP_OUT_LEFT && this.obj_value_set(Decrease(this._st.st_value_get(), this._items.length));
	a == st.OP_OUT_RIGHT && this.obj_value_set(Increase(this._st.st_value_get(), this._items.length));
	a != st.OP_OUT_UP && a != st.OP_OUT_DOWN || this.obj_out_type(a)
};
Area.prototype._ar_fj = function (a) {
	a == st.OP_OUT && this.obj_out_type(a);
	a == st.OP_EXIT && this.obj_focusout();
	a == st.OP_ENTER && this.obj_focusin();
	a == st.OP_OUT_UP && this.obj_value_set(Decrease(this._st.st_value_get(), this._items.length));
	a == st.OP_OUT_DOWN && this.obj_value_set(Increase(this._st.st_value_get(), this._items.length));
	a != st.OP_OUT_LEFT && a != st.OP_OUT_RIGHT || this.obj_out_type(a)
};
Area.prototype.onkey = function (a) {
	this.onselfkey(a);
	1 > this._items.length || this._page.pa_fn()._aaf___(this._items[this._st.st_value_get()].st_name_get()).dispatchEvent(a)
};
Area.prototype.onselfkey = function (a) { };
Area.prototype.AreaCreate = function () {
	this.obj_build();
	if (0 < this._items.length) {
		var a = this._ar_fc();
		a < this._items.length && this.obj_value_set_only(a)
	}
	this._st.st_select_get() == st.SELECT_YES && this.obj_doselect()
};
Area.prototype.AreaSelect = function (a) {
	a < this._items.length && this.obj_value_set(a)
};Area.prototype.AreaIsEnable = function() {
	return this.obj_value_set(a)
};